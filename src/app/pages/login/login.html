<div class="body-bg">
  <div class="container" [ngClass]="{'right-panel-active': isSignUpActive}">
    
    <div class="form-container sign-up-container">
      <form>
        <h1 class="unifor-blue">Criar Conta</h1>
        
        <span>Use sua matrícula para registro</span>
        
        <input 
          type="text" 
          placeholder="Matrícula" 
          class="input-field" 
          [(ngModel)]="matricula"
          name="matricula-signup"
          maxlength="7"
          (input)="limparErros()" 
        />
        
        <div class="password-wrapper">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            placeholder="Senha" 
            class="input-field"
            [(ngModel)]="senha"
            name="senha-signup"
            maxlength="8"
            (input)="limparErros()"
          />
          <button type="button" class="eye-btn" (click)="togglePasswordVisibility()">
            <i class="fa-solid" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
          </button>
        </div>
        
        <p class="error-msg" *ngIf="msgErro">
          <i class="fa-solid fa-circle-exclamation"></i> {{ msgErro }}
        </p>
        
        <button 
          class="btn-primary" 
          type="button" 
          (click)="fazerCadastro()"
          [disabled]="isLoading"
        >
          {{ isLoading ? 'CADASTRANDO...' : 'CADASTRAR' }}
        </button>
      </form>
    </div>

    <div class="form-container sign-in-container">
      <form>
        <div class="logo-top" style="color: var(--blue-primary); width: 160px; margin-bottom: 20px;">
          <app-logo></app-logo>
        </div>

        <h1 class="access-title">Acesso ao Unifor ReadON</h1>
        <p class="subtitle">Aqui você encontra sua comunidade oficial de leitores da Universidade de Fortaleza.</p>
        
        <input 
          type="text" 
          placeholder="Matrícula" 
          class="input-field" 
          [(ngModel)]="matricula" 
          name="matricula"
          maxlength="7"
          (input)="limparErros()"
        />
        
        <div class="password-wrapper">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            placeholder="Senha" 
            class="input-field"
            [(ngModel)]="senha"
            name="senha"
            maxlength="8"
            (input)="limparErros()"
          />
          <button type="button" class="eye-btn" (click)="togglePasswordVisibility()">
            <i class="fa-solid" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
          </button>
        </div>
        
        <p class="error-msg" *ngIf="msgErro">
          <i class="fa-solid fa-circle-exclamation"></i> {{ msgErro }}
        </p>
        
        <a href="#" class="forgot-pass">Esqueceu sua senha?</a>

        <button 
          type="button" 
          class="btn-primary" 
          (click)="fazerLogin()"
          [disabled]="isLoading"
        >
          {{ isLoading ? 'ACESSANDO...' : 'ACESSAR' }}
        </button>
        <a href="#" class="return-link">Retornar ao portal Unifor</a>
      </form>
    </div>

    <div class="overlay-container">
      <div class="overlay">
        <div class="overlay-panel overlay-right" style="color: white;">
          
          <div class="big-mascot" style="width: 400px; max-width: 80%; margin-bottom: 20px;">
            <app-mascot [imagemAtual]="imgMoema"></app-mascot>
          </div>

          <h1>Olá, Aluno!</h1>
          <p>Ainda não tem acesso ao sistema da biblioteca?</p>
          <button class="ghost" (click)="togglePanel(true)">CRIAR CONTA</button>
        </div>

        <div class="overlay-panel overlay-left">
          <h1>Bem-vindo de volta!</h1>
          <p>Para se conectar com a gente, faça login com suas informações pessoais</p>
          <button class="ghost" (click)="togglePanel(false)">JÁ TENHO CONTA</button>
        </div>
      </div>
    </div>

  </div>
</div>